function BB_rawDatabase(){return{product:{product:{fullName:"Bổ não QA Gingko Biloba",shortName:"BoNaoQa",price:25e4},options:{active:!0,opt_01:{quantity:1,percent:20.4},opt_02:{quantity:3,percent:26},opt_03:{quantity:6,percent:33.4}},promotion:{active:!0,minQuantity:2,minOrderCost:5e5,percent:15},shipping:{active:!0,baseShipCost:2e4,minOrderCost:3e5,percent:15}},seller:{store:{onlineUrl:"https://bio.linhdan.top/",offlineUrl:"https://bio.linhdan.top/"},address:"24/1/2A2 Chương Dương, Trần Phú, Hải Dương",phone:"0857319366",zalo:{url01:"https://zalo.me/",url02:"https://zaloapp.com/qr/p/z29xq2umx020/"},messenger:{url01:"https://m.facebook.com/msg/104636079259132",url02:"https://m.me/mslinhdan.me"},email:"hello@linhdan.top",website:"linhdan.top",shopee:{url01:"https://s.shopee.vn/B9GPoax30"}}}}function BB_preciousStone(){const e=BB_rawDatabase(),t=e.product,n=e.seller,o={fbpixel:function(){document.head.innerHTML+="            <script>            !function(f,b,e,v,n,t,s)            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?            n.callMethod.apply(n,arguments):n.queue.push(arguments)};            if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';            n.queue=[];t=b.createElement(e);t.async=!0;            t.src=v;s=b.getElementsByTagName(e)[0];            s.parentNode.insertBefore(t,s)}(window, document,'script',            'https://connect.facebook.net/en_US/fbevents.js');            fbq('init', '479254314985143');            fbq('track', 'PageView');            <\/script>            <noscript><img height=\"1\" width=\"1\" style=\"display:none\" src=\"https://www.facebook.com/tr?id=479254314985143%26ev=PageView%26noscript=1\"/></noscript>"},fbtrack:function(e){fbq("track","Purchase",{content_name:e.shortName,num_items:e.quantity,value:e.sumTotal,currency:"VND"})},fbcontact:function(){}};function r(e,t){return Number.isInteger(t)&&t>0&&(e=Math.round(e/t)*t),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}!function(){const e=document.querySelector("#bb-contact-form");if(!e)return;const a=e.querySelector("#form-shopping-product > span"),c=e.querySelector("#form-shopping-price > span"),l=e.querySelector("#form-shopping-quantity > span"),i=l.querySelector("input"),s=e.querySelector("#form-shopping-actualCost > span"),u=e.querySelector("#form-shopping-discount"),p=e.querySelector("#form-shopping-shipCost > span"),d=e.querySelector("#form-shopping-lastCost > span");let f=localStorage.getItem("bb_orderData");function m(e){let n=parseInt(e,10)*t.product.price,o=[],a=0,l=0;if(t.promotion.active&&(e>=t.promotion.minQuantity||n>=t.promotion.minOrderCost)&&o.push(n*t.promotion.percent/100),t.options.active){let r=Object.values(t.options).map((t=>{if(e>=t.quantity)return t.percent}));r=r.filter(Boolean),r.length&&(r=r.reduce(((e,t)=>e>t?e:t)),o.push(n*r/100))}o.length?(o=o.reduce(((e,t)=>e.quantity<t.quantity?e:t)),a=n-o):o=0,t.shipping.active&&a<t.shipping.minOrderCost&&(l=t.shipping.baseShipCost),i.value=e,c.innerHTML=`${r(a/e,1e3)}<sup>đ</sup>             <s>${r(t.product.price,1e3)}<sup>đ</sup></s>`,s.innerHTML=`${r(n,1e3)}<sup>đ</sup>`,u.querySelector("label").innerHTML=`Giảm giá ${(100*o/n).toFixed(1)}%`,u.querySelector("span").innerHTML=`-${r(o,1e3)}<sup>đ</sup>`,p.innerHTML=`${r(l||-t.shipping.baseShipCost,1e3)}<sup>đ</sup>`,d.innerHTML=`${r(a+l,1e3)}<sup>đ</sup>`,f.quantity=e,f.sumTotal=a+l,f.shipCost=l}f="string"==typeof f?JSON.parse(f):{clientName:"",clientPhone:"",clientAddress:"",clientMessage:"",fullName:t.product.fullName,shortName:t.product.shortName,quantity:0,sumTotal:0,shipCost:0},function(){a.textContent=t.product.fullName;let e=document.createElement("small");e.innerHTML=`Đơn trên ${r(t.shipping.minOrderCost-1e3,0)}<sup>đ</sup> miễn phí vận chuyển, giảm thêm ${t.shipping.percent}% cho đơn trên ${r(t.promotion.minOrderCost-1e3,0)}`,a.after(e),c.innerHTML=r(t.product.price,0)+"<sup>đ</sup>"}(),m(i.value),function(){(function(){const e=document.querySelector(".footer-marketplace-wrap"),t=document.querySelector(".footer-contact-wrap");if(!e||!t)return;const o=e.querySelector(".online"),a=e.querySelector(".offline"),c=e.querySelector(".address"),l=t.querySelector(".phone"),i=t.querySelector(".zalo"),s=t.querySelector(".mail"),u=t.querySelector(".website");[o,a,l,i,s,u].forEach(((e,t)=>{e.addEventListener("click",(function(e){e.preventDefault(),0===t&&window.open(n.store.onlineUrl),1===t&&window.open(n.store.onlineUrl),2===t&&window.open("tel:"+n.phone),3===t&&window.open(n.zalo.url01+n.phone),4===t&&window.open("mailto:"+n.email),5===t&&window.open(n.website)}))}));let p=document.createElement("style");p.textContent=`.footer-about .footer-text p:after {content: "${n.address}";}\n        .footer-marketplace-wrap .online::after {content: "Shopee";}         .footer-marketplace-wrap .offline::after {content: "Showroom"}         .footer-marketplace-wrap .address::after {content: "${n.address}";}         .footer-contact-wrap .phone::after {content: "0${r(n.phone.substring(1),0)}";}         .footer-contact-wrap .zalo::after {content: "Zalo hotline";}         .footer-contact-wrap .mail::after {content: "${n.email}";}         .footer-contact-wrap .website::after {content: "${n.website}"}         .footer-contact-wrap .website, .footer-marketplace-wrap .address {display: none}`,c.before(p)})(),t.options.active&&function(){const e=document.querySelector("#pricing");if(!e)return;const n=Object.values(t.options);[e.querySelector(".regular"),e.querySelector(".popular-plan"),e.querySelector(".best-value-plan")].forEach(((e,o)=>{const a=t.product.price*(100-n[o+1].percent)/100;e.querySelector(".price").innerHTML=`${r(a,1e3)}`,e.querySelector(".total").innerHTML=`(Tổng ${r(a*n[o+1].quantity,1e3)})`,e.querySelector(".save").innerHTML=`Mã giảm ${r(n[o+1].percent,1)}%`,e.dataset.bbOrderstart=n[o+1].quantity}));document.querySelector("#paroller").querySelectorAll(".price").forEach(((e,o)=>{e.innerHTML=`${r(t.product.price*(100-n[o+1].percent)/100,1e3)}         <span class="old-price">${r(t.product.price,1e3)}</span>`}))}();!function(){const e=document.querySelector("#bb-action-group");if(!e)return;e.innerHTML='<div class="bb-buying-button" data-bb-orderstart="1"><span>Mua ngay</span></div>     <div class="bb-action-button"><i class="fas fa-phone-alt"></i><span>Gọi tư vấn</span></div>      <div class="bb-popup-menu">         <span class="bb-action-phone"><i class="fas fa-phone-alt"></i></span>         <span class="bb-action-sms"><i class="fas fa-quote-right"></i></span>         <span class="bb-action-zalo"><i class="fas fa-comment-dots"></i></span>         <span class="bb-action-mess"><i class="fab fa-facebook-messenger"></i></span>     </div>',(t=".bb-action-button",new Promise((e=>{if(document.querySelector(t))return e(document.querySelector(t));const n=new MutationObserver((o=>{document.querySelector(t)&&(n.disconnect(),e(document.querySelector(t)))}));n.observe(document.body,{childList:!0,subtree:!0})}))).then((()=>{[e.querySelector(".bb-action-button"),...e.querySelectorAll(".bb-popup-menu span")].forEach(((t,r)=>{t.addEventListener("click",(t=>{t.preventDefault(),e.querySelector(".bb-popup-menu").classList.toggle("bb-hiden"),1===r&&window.open("tel:"+n.phone),2===r&&window.open("sms:"+n.phone),3===r&&window.open(n.zalo.url01+n.phone),4===r&&window.open(n.messenger.url01),o.fbcontact()}))}))}));var t}()}(),document.querySelectorAll("[data-bb-orderstart]").forEach((function(t){t.href="javascript:void(0)",t.addEventListener("click",(n=>{n.preventDefault(),function(e){let t=parseInt(e,10);if(!t)return;m(t),l.querySelector("button:nth-last-child(1)").addEventListener("click",(e=>{e.preventDefault(),t++,m(t)})),l.querySelector("button:nth-child(1)").addEventListener("click",(e=>{e.preventDefault(),t>1&&(t--,m(t))})),i.addEventListener("input",(e=>{e.preventDefault(),i.value=i.value.replace(/\D+/g,""),!i.value||i.value<1||m(i.value)}))}(t.dataset.bbOrderstart),e.style.cssText="display: flex; position: fixed"}))})),e.querySelector("[data-bb-orderclose]").onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")},function(){const t=e.querySelector("#bb-form-contact-name > input"),r=e.querySelector("#bb-form-contact-phone > input"),c=e.querySelector("#bb-form-contact-address > input"),l=e.querySelector("#bb-form-contact-message > textarea"),s=e.querySelector("textarea.contact-form-email-message"),u=e.querySelector("input.contact-form-button.contact-form-button-submit"),m=e.querySelector("p.contact-form-error-message");t.value=f.clientName,r.value=f.clientPhone,c.value=f.clientAddress;const h=[t,r,c];let b=y();function y(){const e=[];return h.forEach(((t,n)=>{let o;0===n?(t.value=t.value.replace(/[^\w\sáàãảạăắằẵẳặâấầẫẩậđéèẽẻẹêếềễểệíìĩỉịóòõỏọôốồỗổộơớờỡởợúùũủụưứừữửựýỳỹỷỵÁÀÃẢẠĂẮẰẴẲẶÂẤẦẪẨẬĐÉÈẼẺẸÊẾỀỄỂỆÍÌĨỈỊÓÒÕỎỌÔỐỒỖỔỘƠỚỜỠỞỢÚÙŨỦỤƯỨỪỮỬỰÝỲỸỶỴ]/g,""),o=t.value.trim().length>0):1===n?(t.value=t.value.replace(/\D+/g,""),t.value=t.value.substring(0,10),o=10===t.value.length&&t.value.match(/(0[3|5|7|8|9])+([0-9]{8})\b/g)?1:0):(t.value=t.value.replace(/[^\w\s\+\-\(\)\\\/&\.,áàãảạăắằẵẳặâấầẫẩậđéèẽẻẹêếềễểệíìĩỉịóòõỏọôốồỗổộơớờỡởợúùũủụưứừữửựýỳỹỷỵÁÀÃẢẠĂẮẰẴẲẶÂẤẦẪẨẬĐÉÈẼẺẸÊẾỀỄỂỆÍÌĨỈỊÓÒÕỎỌÔỐỒỖỔỘƠỚỜỠỞỢÚÙŨỦỤƯỨỪỮỬỰÝỲỸỶỴ]/g,""),o=t.value.trim().length>=10),o?(e[n]=1,t.style.cssText="background-color: none",m.textContent=""):(e[n]=0,t.style.cssText="background-color: #F2CAC8")})),h.length===e.length?e.reduce(((e,t)=>e*t)):0}h.forEach((e=>{e.addEventListener("input",(e=>{e.preventDefault(),b=y(),b?(u.value="Mua hàng",u.style="background-color: #3786C9; width: 180px;"):(u.value="Sai thông tin",u.style="background-color: #c36887; width: 220px;")}))})),u.addEventListener("click",(m=>{if(m.preventDefault(),b){const m="\n\n"+"-".repeat(50)+"\n\n",h=(new Date).toLocaleDateString("en-ZA"),b=(new Date).toLocaleTimeString("en-ZA",{hour12:!1,hour:"numeric",minute:"numeric"});f.clientName=t.value,f.clientPhone=r.value,f.clientAddress=c.value,f.clientMessage=`${a.textContent}\nSố lượng: ${i.value} hộp\nPhải thu: ${d.textContent}\nPhí v.chuyển: ${p.textContent}${m}Tên khách: ${t.value}\nĐiện thoại: ${r.value}\nĐịa chỉ: ${c.value}${m}Lưu file CSV:\n"${h}","${b}","${f.fullName}","${f.quantity}","${f.sumTotal}","${f.shipCost}","${t.value}","${r.value}","${c.value}"${m}${l.value}`,localStorage.setItem("bb_orderData",JSON.stringify(f)),s.textContent=f.clientMessage,e.querySelector("input.contact-form-email").value=n.email,o.fbtrack(f),u.value="Đặt thành công",u.style="background-color: #f79300; width: 220px;",setTimeout((()=>{e.querySelector("[data-bb-orderclose]").click(),u.value="Mua hàng",u.style=""}),3e3)}else s.textContent="",u.value="Sai thông tin",u.style="background-color: #c36887; width: 220px;"}))}()}(),function(){const e=document.querySelector("#bio-links-page #links");e&&(document.querySelectorAll(".bb-contact-url").forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault(),0===t&&window.open(n.zalo.url01+n.phone),1===t&&window.open(n.messenger.url01)}))})),document.querySelectorAll("#links span").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e.querySelector("#bb-host-shopee")&&window.open(n.shopee.url01),e.querySelector("#bb-host-lazada")&&window.open(n.lazada.url01),e.querySelector("#bb-host-tiktok")&&window.open(n.tiktok.url01),e.querySelector("#bb-host-shopee")&&window.open(n.shopee.url01),e.querySelector("#bb-host-facebook")&&window.open(n.facebook.url01),e.querySelector("#bb-host-youtube")&&window.open(n.youtube.url01)}))})))}()}BB_preciousStone();
