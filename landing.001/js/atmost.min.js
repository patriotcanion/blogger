const bb_productData={product:{name:"Bổ não QA Gingko Biloba",price:25e4},options:{active:!0,opt_01:{quantity:1,percent:20.4},opt_02:{quantity:3,percent:26},opt_03:{quantity:6,percent:36}},promotion:{active:!0,minQuantity:2,minOrderCost:5e5,percent:15},shipping:{active:!0,baseShipCost:2e4,minOrderCost:3e5,percent:15}},bb_sellerData={store:{onlineUrl:"https://bio.linhdan.top/",offlineUrl:"https://bio.linhdan.top/"},address:"24/1/2A2 Chương Dương, Trần Phú, Hải Dương",phone:"0857319366",zalo:{url01:"https://zalo.me/",url02:"https://zaloapp.com/qr/p/z29xq2umx020/"},email:function(){const e=window.location.hostname.split(".");return e.shift(),"hello@"+e.join(".")},website:function(){const e=window.location.hostname.split(".");return e.shift(),e.join(".")}};function BB_preciousStone(){const e=document.querySelector("#form-shopping-product > span"),t=document.querySelector("#form-shopping-price > span"),n=document.querySelector("#form-shopping-quantity > span"),o=n.querySelector("input"),r=document.querySelector("#form-shopping-actualCost > span"),a=document.querySelector("#form-shopping-discount"),c=document.querySelector("#form-shopping-shipCost > span"),i=document.querySelector("#form-shopping-lastCost > span");e.textContent=bb_productData.product.name;let u=document.createElement("small");u.innerHTML=`Đơn trên ${q(bb_productData.shipping.minOrderCost-1e3,0)}<sup>đ</sup> miễn phí vận chuyển, giảm thêm ${bb_productData.shipping.percent}% cho đơn trên ${q(bb_productData.promotion.minOrderCost-1e3,0)}`,e.after(u),t.innerHTML=q(bb_productData.product.price,0)+"<sup>đ</sup>",y(o.value);const l=document.querySelector("#bb-form-contact-name > input"),p=document.querySelector("#bb-form-contact-phone > input"),s=document.querySelector("#bb-form-contact-address > input"),d=document.querySelector("#bb-form-contact-message > textarea"),b=document.querySelector("input.contact-form-button.contact-form-button-submit"),m=document.querySelector("p.contact-form-error-message"),h=[];[l,p,s].forEach(((t,n)=>{t.addEventListener("input",(r=>{let a;r.preventDefault(),0===n?(a=t.value.length>0,m.textContent="Tên khách hàng đang bị bỏ trống"):1===n?(a=10===t.value.length,m.textContent="Số điện thoại chưa đúng (10 số)",t.value=t.value.replace(/\D+/g,""),t.setAttribute("maxlength","10")):(a=t.value.length>=15,m.textContent="Thông tin phải chứa 15 ký tự trở lên"),a?(h[n]=1,t.style.cssText="background-color: none",m.textContent=""):(h[n]=0,t.style.cssText="background-color: #F2CAC8");if(h.reduce(((e,t)=>e*t))){const t="\n\n"+"-".repeat(50)+"\n\n";document.querySelector("textarea.contact-form-email-message").textContent=`${e.textContent}\nSố lượng: ${o.value} hộp\nPhải thu: ${i.textContent}\nPhí v.chuyển: ${c.textContent}${t}Tên khách: ${l.value}\nĐiện thoại: ${p.value}\nĐịa chỉ: ${s.value}${t}${d.value}`,document.querySelector("input.contact-form-email").value="mail@mail.mail",b.disabled=!1}else b.disabled=!0}))})),function(){const e=document.querySelector(".footer-marketplace-wrap"),t=document.querySelector(".footer-contact-wrap");if(!t)return;const n=e.querySelector(".online"),o=e.querySelector(".offline"),r=e.querySelector(".address"),a=t.querySelector(".phone"),c=t.querySelector(".zalo"),i=t.querySelector(".mail"),u=t.querySelector(".website");[n,o,a,c,i,u].forEach(((e,t)=>{e.addEventListener("click",(function(e){e.preventDefault(),0===t&&window.open(bb_sellerData.store.onlineUrl),1===t&&window.open(bb_sellerData.store.onlineUrl),2===t&&window.open("tel:+84"+bb_sellerData.phone),3===t&&window.open(bb_sellerData.zalo.url01+bb_sellerData.phone),4===t&&window.open("mailto:"+bb_sellerData.email()),5===t&&window.open(bb_sellerData.website())}))}));let l=document.createElement("style");l.textContent=`.footer-marketplace-wrap .online::after {content: "Shopee";} \t.footer-marketplace-wrap .offline::after {content: "Showroom"} \t.footer-marketplace-wrap .address::after {content: "${bb_sellerData.address}";} \t.footer-contact-wrap .phone::after {content: "0${q(bb_sellerData.phone.substring(1),0)}";} \t.footer-contact-wrap .zalo::after {content: "Liên hệ zalo";} \t.footer-contact-wrap .mail::after {content: "${bb_sellerData.email()}";} \t.footer-contact-wrap .website::after {content: "${bb_sellerData.website()}"} \t.footer-contact-wrap .website {display: none}`,r.before(l)}(),bb_productData.options.active&&function(){const e=document.querySelector("#pricing");if(!e)return;const t=Object.values(bb_productData.options);[e.querySelector(".regular"),e.querySelector(".popular-plan"),e.querySelector(".best-value-plan")].forEach(((e,n)=>{const o=bb_productData.product.price*(100-t[n+1].percent)/100;e.querySelector(".price").innerHTML=`${q(o,1e3)}`,e.querySelector(".total").innerHTML=`(Tổng ${q(o*t[n+1].quantity,1e3)})`,e.querySelector(".save").innerHTML=`Giảm ${q(t[n+1].percent,1)}%`,e.dataset.bbOrderstart=t[n+1].quantity}))}();const f=document.querySelector("#bb-contact-form");function y(e){let n=parseInt(e,10)*bb_productData.product.price,u=[],l=0,p=0;if(bb_productData.promotion.active&&(e>=bb_productData.promotion.minQuantity||n>=bb_productData.promotion.minOrderCost)&&u.push(n*bb_productData.promotion.percent/100),bb_productData.options.active){let t=Object.values(bb_productData.options).map((t=>{if(e>=t.quantity)return t.percent}));t=t.filter(Boolean),t.length&&(t=t.reduce(((e,t)=>e>t?e:t)),u.push(n*t/100))}u.length?(u=u.reduce(((e,t)=>e.quantity<t.quantity?e:t)),l=n-u):u=0,bb_productData.shipping.active&&l<bb_productData.shipping.minOrderCost&&(p=bb_productData.shipping.baseShipCost),o.value=e,t.innerHTML=`${q(l/e,1e3)}<sup>đ</sup> \t\t<s>${q(bb_productData.product.price,1e3)}<sup>đ</sup></s>`,r.innerHTML=`${q(n,1e3)}<sup>đ</sup>`,a.querySelector("label").innerHTML=`Giảm ${(100*u/n).toFixed(1)}%`,a.querySelector("span").innerHTML=`-${q(u,1e3)}<sup>đ</sup>`,c.innerHTML=`${q(p,1e3)}<sup>đ</sup>`,i.innerHTML=`${q(l+p,1e3)}<sup>đ</sup>`}function q(e,t){return Number.isInteger(t)&&t>0&&(e=Math.round(e/t)*t),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}document.querySelectorAll("[data-bb-orderstart]").forEach((function(e){e.href="javascript:void(0)",e.addEventListener("click",(t=>{t.preventDefault(),function(e){let t=parseInt(e,10);if(!t)return;y(t),n.querySelector("button:nth-last-child(1)").addEventListener("click",(e=>{e.preventDefault(),t++,y(t)})),n.querySelector("button:nth-child(1)").addEventListener("click",(e=>{e.preventDefault(),t>1&&(t--,y(t))})),o.addEventListener("input",(e=>{e.preventDefault(),o.value=o.value.replace(/\D+/g,""),y(o.value)}))}(e.dataset.bbOrderstart),f.style.cssText="display: flex; position: fixed"}))})),document.querySelector("[data-bb-orderclose]").onclick=function(){f.style.display="none"},window.onclick=function(e){e.target==f&&(f.style.display="none")}}BB_preciousStone();
